{"version":3,"file":"static/webpack/static/development/pages/detect_transactions.js.e5d9f41ca1ffd6787256.hot-update.js","sources":["webpack:///./functions/price_sensitive_market.js"],"sourcesContent":["const linear_regression = require('./linear_regression')\nconst price_elasticity = require('./price_elasticity')\n\nconst price_sensitive_market = (tabs, maps) => {\n    let myMap = new Map();\n    //try{\n    var elasticity_list = []\n    console.log(\"tabs.length is \", tabs)\n\n\n    for (var i=1;i<tabs.length;i++){\n        const selected_currency = tabs[i]['id']\n        console.log(\"selected_currency is \", selected_currency)\n\n        const selected_data_all_products = maps.get(selected_currency)\n        const selected_data = selected_data_all_products.get('all')\n        const product_price = 100\n        var product_price_list = selected_data[2].map(function(element) {\n            return Math.round(element*product_price*100)/100;\n        });\n\n        const slope = linear_regression(selected_data[1],product_price_list)[3]\n\n        console.log(\"slope is \", slope)\n\n        const elasticity = price_elasticity(selected_data[1], product_price_list, Math.abs(slope))\n\n        console.log(\"elasticity is \", elasticity)\n        \n        if (myMap.has(elasticity)){\n            var value = myMap.get(elasticity)\n            value.push(selected_currency)\n            myMap.set(elasticity, value)\n        }else{\n            myMap.set(elasticity, [selected_currency])\n        }\n        elasticity_list.push(elasticity)\n    }\n\n    elasticity_list.sort(function(a, b){return a-b});\n\n    console.log(\"elasticity_list is \", elasticity_list)\n\n    var currency_rank = []\n\n    for (var j=1;j<tabs.length;j++){\n        var elasticity_element = elasticity_list[j]\n        console.log(\"myMap.get(elasticity_element)[0] is \", myMap.get(elasticity_element)[0])\n        if (!currency_rank.includes(myMap.get(elasticity_element)[0])){\n            for (var k=0; k<myMap.get(elasticity_element).length;k++){\n                currency_rank.push(myMap.get(elasticity_element)[k])\n            }\n            \n        }\n    }\n\n    console.log(\"currency_rank is \", currency_rank)\n\n    //localStorage.setItem('currency_elasticity_rank', currency_rank);\n    return currency_rank\n //} catch (error){\n   // console.log(\"error in price sensitive market\")\n    //}\n}\n\nmodule.exports = price_sensitive_market; "],"mappings":";;;;;;;;;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAjCA;AACA;AAMA;AAAA;AAAA;AACA;AADA;AA2BA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}