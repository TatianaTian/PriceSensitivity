{"version":3,"file":"static/webpack/static/development/pages/detect_transactions.js.0e768b5fe914b1ba3df2.hot-update.js","sources":["webpack:///./pages/detect_transactions.js"],"sourcesContent":["import gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport {Tabs} from '@shopify/polaris';\nimport store from 'store-js';\nimport { Redirect } from '@shopify/app-bridge/actions';\nimport { Context } from '@shopify/app-bridge-react';\nimport Country_data from \"../components/Country_data\";\nimport Main_data from \"../components/Main_data\";\n//import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\nimport Loader from 'react-loader-spinner'\n\nconst change_format2 = require('../functions/change_format2')\n\n\n\nclass ResourceListWithProducts extends React.Component {\n  \n  constructor(props){\n    super(props);\n    this.state = {\n      list : [[],[],[]],\n      selected: 0,  \n      list2:[[],[]]\n    }\n  }\n  static contextType = Context;\n\n  componentDidMount() {\n    this.getList();\n    //this.getCountryData();\n    console.log(\"here\")\n    //console.log(\"list is \", this.state.list)\n    //change_format2(this.state.list)\n  }\n\n  getList = () => {\n    fetch('http://localhost:5000/api/tabs')\n    .then(res => res.json())\n    .then(list2 => this.setState({ list2 }))\n  }\n\n  \n  getCountryData = () => {\n    fetch('http://localhost:5000/api/country_data')\n    .then(res => res.json())\n    .then(country_data => this.setState({ country_data }))\n    console.log(\"3\")\n  }\n\n  \n  render() {\n    const {list, selected, list2} = this.state;\n\n    //change_format2(list)\n    /*\n    if (list2===null){\n      console.log(\"loading...\")\n    }{\n      console.log(\"list2 is \")\n    }*/\n    const tab =  list2[0]\n\n    //try {\n      \n      console.log(\"list2 is \", list2)\n      console.log(\"selected is \", selected)\n      const [map, product_id_title_map, product_id_price_map, store_currency, fx_map] = change_format2(list2)\n      console.log('product_id_title_map is ', product_id_title_map)\n      /*\n      const currency = tab[select]\n      const [date, revenue, fx] = myMap.get(currency)\n \n\n      console.log(\"date is \", date)\n      console.log(\"price is \", revenue)\n      console.log(\"exchange_rate is \", fx)\n\n\n      store.set('date', date)\n      store.set('price', revenue)\n      store.set('exchange_rate', fx)*/\n    /*}\n    catch(err) {\n      console.log(\"loading...\")\n    }*/\n    //store.set('date',[2,3])\n    //console.log(\"store get in detect transaction is\", localStorage.getItem('date'))\n\n   \n\n\n    \n\n    //console.log(\"lis1 is \", list[0])\n\n    //console.log(\"list is \", list[1])\n    //console.log(\"selected is \", selected)\n\n    var i = 0\n    if (selected > 0){\n      i = selected - 1\n    }\n\n\n    /*\n    const date = list[1][i][0]\n    const price = list[1][i][1]\n    const exchange_rate = list[1][i][2]\n    store.set('date', date)\n    store.set('price', price)\n    store.set('exchange_rate', exchange_rate)\n\n    const level = list[2]\n    store.set('level', level)\n    //console.log('level is ', level)\n*/\n   // var tab = list[0]\n  \n  \n    \n  console.log(\"tab is \", tab)\n  \n\n  \n    return (\n      <div className=\"main_background_image\">\n      {/* Check to see if any items are found*/}\n      {list2[0][0] === undefined ? (\n        \n        <div>\n          <h2>Working Hard And Analyzing...</h2>\n        <Loader\n        type=\"Oval\"\n        color=\"#63b7af\"\n        height={80}\n        width={80}\n        timeout={20000} //3 secs\n\n          />\n          </div>\n      ) : (\n  \n        <div className=\"main_background_image\">\n        <Tabs tabs={tab} selected={selected} onSelect={(selected) => this.setState({selected})} fitted={true} >\n          {selected===0? (\n            \n            <Main_data tabs={tab} maps={map}/>\n        ):(\n  \n            <Country_data select={selected} tabs={tab} maps={map} product_id_title_map={product_id_title_map} product_id_price_map={product_id_price_map} store_currency={store_currency} fx_map={fx_map}/>\n        )}\n  \n        </Tabs>\n        </div>\n     \n      )\n    }\n    </div>\n    \n    );\n  }\n\n\n}\n\n export default ResourceListWithProducts;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAmBA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAvBA;AA0BA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AA7BA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;AAEA;AACA;AACA;AACA;AAEA;AACA;;;AAiBA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;;;;;;;AAMA;AACA;AAGA;AACA;AACA;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAgBA;AACA;;;;;;;;;;AAaA;;;;AAIA;AACA;AAOA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;;;;;;;;;;;AAYA;AACA;AACA;AAEA;AAIA;AACA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AANA;AAWA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;;;;AAjJA;AACA;AADA;AACA;AAqJA;;;;A","sourceRoot":""}