{"ast":null,"code":"var getPearsonCorrelation = require('./calc_correlation');\n\nvar price_sensitive_market = function price_sensitive_market(map) {\n  var myMap = new Map(); //console.log(\"all list is \", alllist)\n\n  var list = allList[1]; // try{\n\n  console.log(\"list in format is \", list); // i is currency iterator\n\n  for (var i = 0; i < list.length; i++) {\n    console.log(\"i is \", i);\n    var currency = list[i][0];\n    var detail = list[i][3];\n    var current_level = list[i][2];\n    console.log(\"currency is \", currency); // j is products/all iterator\n\n    var map2 = new Map();\n\n    for (var j = 0; j < detail.length; j++) {\n      console.log(\"j is \", j);\n      var date_list = [];\n      var revenue_list = [];\n      var fx_list = [];\n      var product_id = list[i][3][j][0];\n\n      for (var k = 0; k < list[i][3][j][1].length; k++) {\n        date_list.push(list[i][3][j][1][k][0]); //date_list.push('*')\n\n        revenue_list.push(parseFloat(list[i][3][j][1][k][1][0])); //revenue_list.push('*')\n\n        fx_list.push(parseFloat(list[i][3][j][1][k][1][1])); //fx_list.push('*')\n      }\n\n      map2.set(product_id, [date_list, revenue_list, fx_list, current_level]);\n    }\n\n    myMap.set(currency, map2);\n  }\n\n  console.log(\"myMap is \", myMap);\n  var product_id_title = allList[2];\n  var product_id_title_map = new Map(); //console.log('product_id_title is ', product_id_title)\n\n  try {\n    for (var k = 0; k < product_id_title.length; k++) {\n      product_id_title_map.set(product_id_title[k][0], product_id_title[k][1]);\n    }\n  } catch (error) {\n    console.log(\"error id title\");\n  }\n\n  return [myMap, product_id_title_map];\n};\n\nmodule.exports = price_sensitive_market;","map":{"version":3,"sources":["/Users/tatianatian/Desktop/Startup/shopify_front_back_end/client/functions/price_sensitive_market.js"],"names":["getPearsonCorrelation","require","price_sensitive_market","map","myMap","Map","list","allList","console","log","i","length","currency","detail","current_level","map2","j","date_list","revenue_list","fx_list","product_id","k","push","parseFloat","set","product_id_title","product_id_title_map","error","module","exports"],"mappings":"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","sourcesContent":["const getPearsonCorrelation = require('./calc_correlation')\n\nconst price_sensitive_market = (map) => {\n    let myMap = new Map();\n    //console.log(\"all list is \", alllist)\n    \n    const list = allList[1]\n   // try{\n    console.log(\"list in format is \", list)\n    // i is currency iterator\n    for (var i=0; i<list.length; i++){\n        console.log(\"i is \", i)\n        const currency = list[i][0]\n        const detail = list[i][3]\n        const current_level = list[i][2]\n        console.log(\"currency is \", currency)\n\n        // j is products/all iterator\n        let map2 = new Map();\n        for (var j=0; j<detail.length; j++){\n            console.log(\"j is \", j)\n            var date_list = []\n            var revenue_list = []\n            var fx_list = []\n\n\n            const product_id = list[i][3][j][0]\n            for (var k=0; k<list[i][3][j][1].length; k++){\n                    \n                date_list.push(list[i][3][j][1][k][0])\n                //date_list.push('*')\n                revenue_list.push(parseFloat(list[i][3][j][1][k][1][0]))\n                //revenue_list.push('*')\n                fx_list.push(parseFloat(list[i][3][j][1][k][1][1]))\n                //fx_list.push('*')\n            }\n            map2.set(product_id, [date_list, revenue_list, fx_list, current_level])\n        }\n        myMap.set(currency, map2)\n\n    }\n    console.log(\"myMap is \", myMap)\n\n    const product_id_title = allList[2]\n    let product_id_title_map = new Map();\n\n    //console.log('product_id_title is ', product_id_title)\n    \n    try{\n        for (var k=0; k<product_id_title.length; k++){\n            product_id_title_map.set(product_id_title[k][0],product_id_title[k][1])\n        }\n    } catch(error){\n        console.log(\"error id title\")\n    }\n\n\n    return [myMap, product_id_title_map]\n}\n\nmodule.exports = price_sensitive_market; "]},"metadata":{},"sourceType":"script"}