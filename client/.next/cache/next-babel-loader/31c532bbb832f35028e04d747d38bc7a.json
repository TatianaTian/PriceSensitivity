{"ast":null,"code":"var _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar jsregression = require('js-regression');\n\nvar regression = function regression(sales, exchange_rate) {\n  var _reformat_data = reformat_data(sales, exchange_rate),\n      _reformat_data2 = _slicedToArray(_reformat_data, 2),\n      data = _reformat_data2[0],\n      myMap = _reformat_data2[1];\n\n  var regression = new jsregression.LinearRegression();\n  var model = regression.fit(data);\n  var myMap2 = Map();\n  myMap2 = myMap; // sort exchange rate\n\n  exchange_rate.sort(function (a, b) {\n    return a - b;\n  });\n  var regression_fx = [];\n  var regression_sales = [];\n  var regression_predicted_sales = [];\n\n  for (j = 0; j < exchange_rate.length(); j++) {\n    regression_fx.push(exchange_rate[i]);\n    regression_sales.push(myMap2.get(exchange_rate[i]));\n    regression_predicted_sales.push(regression.transform([exchange_rate[i]]));\n  }\n\n  console.log(data);\n  console.log(model);\n  console.log(regression.transform([3]));\n  return [regression_fx, regression_sales, regression_predicted_sales];\n};\n\nfunction reformat_data(sales, exchange_rate) {\n  var data = [];\n  var myMap = Map();\n\n  for (i = 0; i < exchange_rate.length(); i++) {\n    data.push([exchange_rate[i], sales[i]]);\n    myMap.set(exchange_rate[i], sales[i]);\n  }\n\n  return [data, myMap];\n}","map":{"version":3,"sources":["/Users/tatianatian/Desktop/Startup/shopify_front_back_end/client/functions/linear_regression.js"],"names":["jsregression","require","regression","sales","exchange_rate","reformat_data","data","myMap","LinearRegression","model","fit","myMap2","Map","sort","a","b","regression_fx","regression_sales","regression_predicted_sales","j","length","push","i","get","transform","console","log","set"],"mappings":";;AAAA,IAAIA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AAEA,IAAMC,UAAU,GAAG,oBAACC,KAAD,EAAQC,aAAR,EAAwB;AAAA,uBACnBC,aAAa,CAACF,KAAD,EAAQC,aAAR,CADM;AAAA;AAAA,MAClCE,IADkC;AAAA,MAC5BC,KAD4B;;AAEvC,MAAIL,UAAU,GAAG,IAAIF,YAAY,CAACQ,gBAAjB,EAAjB;AACA,MAAIC,KAAK,GAAGP,UAAU,CAACQ,GAAX,CAAeJ,IAAf,CAAZ;AAEA,MAAIK,MAAM,GAAGC,GAAG,EAAhB;AACAD,EAAAA,MAAM,GAAGJ,KAAT,CANuC,CAQvC;;AACAH,EAAAA,aAAa,CAACS,IAAd,CAAmB,UAASC,CAAT,EAAYC,CAAZ,EAAc;AAAC,WAAOD,CAAC,GAACC,CAAT;AAAW,GAA7C;AACA,MAAIC,aAAa,GAAG,EAApB;AACA,MAAIC,gBAAgB,GAAG,EAAvB;AACA,MAAIC,0BAA0B,GAAG,EAAjC;;AAEA,OAAKC,CAAC,GAAC,CAAP,EAASA,CAAC,GAACf,aAAa,CAACgB,MAAd,EAAX,EAAkCD,CAAC,EAAnC,EAAsC;AAClCH,IAAAA,aAAa,CAACK,IAAd,CAAmBjB,aAAa,CAACkB,CAAD,CAAhC;AACAL,IAAAA,gBAAgB,CAACI,IAAjB,CAAsBV,MAAM,CAACY,GAAP,CAAWnB,aAAa,CAACkB,CAAD,CAAxB,CAAtB;AACAJ,IAAAA,0BAA0B,CAACG,IAA3B,CAAgCnB,UAAU,CAACsB,SAAX,CAAqB,CAACpB,aAAa,CAACkB,CAAD,CAAd,CAArB,CAAhC;AACH;;AAEDG,EAAAA,OAAO,CAACC,GAAR,CAAYpB,IAAZ;AACAmB,EAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;AACAgB,EAAAA,OAAO,CAACC,GAAR,CAAYxB,UAAU,CAACsB,SAAX,CAAqB,CAAC,CAAD,CAArB,CAAZ;AAEA,SAAO,CAACR,aAAD,EAAgBC,gBAAhB,EAAkCC,0BAAlC,CAAP;AACH,CAzBD;;AA2BA,SAASb,aAAT,CAAuBF,KAAvB,EAA8BC,aAA9B,EAA4C;AACxC,MAAME,IAAI,GAAG,EAAb;AACA,MAAIC,KAAK,GAAGK,GAAG,EAAf;;AACA,OAAKU,CAAC,GAAC,CAAP,EAASA,CAAC,GAAClB,aAAa,CAACgB,MAAd,EAAX,EAAkCE,CAAC,EAAnC,EAAsC;AAClChB,IAAAA,IAAI,CAACe,IAAL,CAAU,CAACjB,aAAa,CAACkB,CAAD,CAAd,EAAkBnB,KAAK,CAACmB,CAAD,CAAvB,CAAV;AACAf,IAAAA,KAAK,CAACoB,GAAN,CAAUvB,aAAa,CAACkB,CAAD,CAAvB,EAA2BnB,KAAK,CAACmB,CAAD,CAAhC;AACH;;AACD,SAAO,CAAChB,IAAD,EAAOC,KAAP,CAAP;AACH","sourcesContent":["var jsregression = require('js-regression');\n\nconst regression = (sales, exchange_rate)=>{\n    var [data, myMap] = reformat_data(sales, exchange_rate)\n    var regression = new jsregression.LinearRegression();\n    var model = regression.fit(data);\n    \n    let myMap2 = Map();\n    myMap2 = myMap\n\n    // sort exchange rate\n    exchange_rate.sort(function(a, b){return a-b});\n    var regression_fx = []\n    var regression_sales = []\n    var regression_predicted_sales = []\n    \n    for (j=0;j<exchange_rate.length();j++){\n        regression_fx.push(exchange_rate[i])\n        regression_sales.push(myMap2.get(exchange_rate[i]))\n        regression_predicted_sales.push(regression.transform([exchange_rate[i]]))\n    }\n\n    console.log(data);\n    console.log(model);\n    console.log(regression.transform([3]));\n\n    return [regression_fx, regression_sales, regression_predicted_sales]\n}\n\nfunction reformat_data(sales, exchange_rate){\n    const data = []\n    let myMap = Map()\n    for (i=0;i<exchange_rate.length();i++){\n        data.push([exchange_rate[i],sales[i]])\n        myMap.set(exchange_rate[i],sales[i])\n    }\n    return [data, myMap]\n}\n \n\n\n"]},"metadata":{},"sourceType":"script"}